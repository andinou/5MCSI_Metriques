<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Histogramme en JavaScript avec D3.js</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    svg {
      font-family: sans-serif;
    }

    .bar {
      fill: steelblue;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .axis text {
      font-size: 10px;
    }
  </style>
</head>
<body>
  <svg id="histogram"></svg>
  <script>
    // Données (à remplacer par vos données)
    const data = [{"Jour":1485799200,"temp":10.61},{"Jour":1485810000,"temp":9.41000000000003},{"Jour":1485820800,"temp":9.15000000000003},{"Jour":1485831600,"temp":9.12000000000001},{"Jour":1485842400,"temp":9.50600000000003},{"Jour":1485853200,"temp":9.63300000000004},{"Jour":1485864000,"temp":10.185},{"Jour":1485874800,"temp":11.507},{"Jour":1485885600,"temp":10.9450000000001},{"Jour":1485896400,"temp":10.061},{"Jour":1485907200,"temp":11.029},{"Jour":1485918000,"temp":11.679},{"Jour":1485928800,"temp":12.552},{"Jour":1485939600,"temp":12.3440000000001},{"Jour":1485950400,"temp":12.01},{"Jour":1485961200,"temp":11.011},{"Jour":1485972000,"temp":9.48000000000002},{"Jour":1485982800,"temp":8.70600000000002},{"Jour":1485993600,"temp":8.82800000000003},{"Jour":1486004400,"temp":10.556},{"Jour":1486015200,"temp":11.975},{"Jour":1486026000,"temp":11.605},{"Jour":1486036800,"temp":10.615},{"Jour":1486047600,"temp":10.659},{"Jour":1486058400,"temp":10.638},{"Jour":1486069200,"temp":10.419},{"Jour":1486080000,"temp":10.96},{"Jour":1486090800,"temp":11.884},{"Jour":1486101600,"temp":13.008},{"Jour":1486112400,"temp":12.988},{"Jour":1486123200,"temp":12.802},{"Jour":1486134000,"temp":12.678},{"Jour":1486144800,"temp":12.018},{"Jour":1486155600,"temp":10.668},{"Jour":1486166400,"temp":10.007},{"Jour":1486177200,"temp":10.3440000000001},{"Jour":1486188000,"temp":12.113},{"Jour":1486198800,"temp":12.777},{"Jour":1486209600,"temp":12.756},{"Jour":1486220400,"temp":12.36}
    ];

    // Dimensions du graphique
    const width = 600;
    const height = 400;
    const margin = { top: 20, right: 20, bottom: 30, left: 40 };

    // Sélectionner l'élément SVG et définir la zone de dessin
    const svg = d3.select("#histogram")
      .attr("width", width)
      .attr("height", height);

    // Créer les échelles
    const x = d3.scaleLinear()
      .domain(d3.extent(data, d => d.temp))
      .range([margin.left, width - margin.right]);

    const y = d3.scaleLinear()
      .domain([0, d3.max(data, d => d.temp)])
      .range([height - margin.bottom, margin.top]);

    // Créer les axes
    const xAxis = g => g
      .attr("transform", `translate(0,${height - margin.bottom})`)
      .call(d3.axisBottom(x));

    const yAxis = g => g
      .attr("transform", `translate(${margin.left},0)`)
      .call(d3.axisLeft(y));

    // Créer les barres de l'histogramme
    svg.append("g")
      .attr("fill", "steelblue")
      .selectAll("rect")
      .data(data)
      .join("rect")
      .attr("x", d => x(d.temp))
      .attr("y", d => y(d.temp))
      .attr("width", x.bandwidth())
      .attr("height", d => height - margin.bottom - y(d.temp));

    // Ajouter les axes au graphique
    svg.append("g").call(xAxis);
    svg.append("g").call(yAxis);
  </script>
</body>
</html>
